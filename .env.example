# Agrilink Frontend Environment Variables
# Copy this file to .env.local for local development
# Configure these variables in Cloudflare Pages for production deployment

# ============================================
# REQUIRED
# ============================================

# Backend API Base URL
# Production: https://team-delta-defenders-backend-1.onrender.com/api
# Development: http://localhost:3000/api (or your local backend URL)
VITE_API_URL=https://team-delta-defenders-backend-1.onrender.com/api

# ============================================
# SECURITY (Recommended)
# ============================================

# Encryption key for token storage
# IMPORTANT: Generate a unique, secure random string for production
# Example: Use a password generator to create a 32+ character string
# DO NOT use the default value in production!
VITE_ENCRYPTION_KEY=AgriLink2024SecureKey!

# ============================================
# SUPABASE (Required for Waitlist)
# ============================================

# Supabase Project URL
# Get this from: Supabase Dashboard → Settings → API → Project URL
VITE_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anon/Public Key
# Get this from: Supabase Dashboard → Settings → API → Project API keys → anon/public
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ============================================
# RESEND (Email Notifications via Cloudflare Pages Functions)
# ============================================

# NOTE: Resend API key is used ONLY in the Cloudflare Pages Function
# Do NOT set this in .env.local for the frontend!
#
# Instead, set these in your Cloudflare Pages project settings:
#   Cloudflare Dashboard → Pages → Your Project → Settings → Environment Variables
#
#   RESEND_API_KEY = re_your-api-key-here
#   NOTIFICATION_EMAIL = support@agrilink.com.ng
#
# The API key stays secure on the server and is never exposed to the browser.

# ============================================
# OPTIONAL (with sensible defaults)
# ============================================

# API request timeout in milliseconds (default: 45000 = 45 seconds)
# Adjust based on your backend response times
VITE_API_TIMEOUT=45000

# Maximum retry attempts for failed API requests (default: 3)
VITE_API_RETRIES=3

# Rate limiting: Maximum requests per time window (default: 100)
VITE_API_RATE_LIMIT=100

# Rate limiting: Time window in milliseconds (default: 60000 = 1 minute)
VITE_API_RATE_WINDOW=60000

# WebSocket URL for real-time messaging (optional)
# If not set, auto-derived from VITE_API_URL
# Example: wss://team-delta-defenders-backend-1.onrender.com/ws
VITE_WS_URL=

# Environment identifier (optional)
# Used for debugging and dev tools
VITE_ENVIRONMENT=production

# ============================================
# CLOUDFLARE PAGES DEPLOYMENT NOTES
# ============================================

# 1. Build Command: npm run build
# 2. Build Output Directory: dist
# 3. Node Version: 18 or higher
#
# 4. Add environment variables in Cloudflare Pages:
#    Settings → Environment variables → Production
#
#    Frontend Variables (VITE_ prefix):
#    - VITE_API_URL
#    - VITE_ENCRYPTION_KEY (generate a secure random string)
#    - VITE_SUPABASE_URL
#    - VITE_SUPABASE_ANON_KEY
#
#    Server-side Variables (for Pages Functions):
#    - RESEND_API_KEY (your Resend API key)
#    - NOTIFICATION_EMAIL (email to receive waitlist notifications)
#
# 5. The /functions folder contains Cloudflare Pages Functions
#    These are automatically deployed with your site
#
# 6. Email sending works via /api/send-email endpoint (Pages Function)

# ============================================
# SECURITY REMINDERS
# ============================================

# - NEVER commit .env or .env.local files to git
# - Use different VITE_ENCRYPTION_KEY for production vs development
# - The VITE_ prefix is required for variables to be exposed to the client
# - Environment variables are embedded in the build at compile time
